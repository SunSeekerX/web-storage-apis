function e(){console.log("%c wsa: warn ","color: #fff;background-color: #e6a23c;",...arguments)}function o(){console.log("%c wsa: error ","color: #fff;background-color: #f56c6c;",...arguments)}var t={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,o,t,i,n,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(t)switch(t.constructor){case Number:a=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:a="; expires="+t;break;case Date:a="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+a+(n?"; domain="+n:"")+(i?"; path="+i:"")+(s?"; secure":""),!0},removeItem:function(e,o,t){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=0;o<e.length;o++)e[o]=decodeURIComponent(e[o]);return e}};function i(e){throw new Error("The key data type should be string instead of "+e)}function n(e){o(`Get '${e}' fail.`)}function s(e,o,t){const i=typeof o;let n="";return t.debug&&function(){console.log("%c wsa: info ","background-color: #409eff;color: #fff;",...arguments)}("Storage",{key:e,value:o}),n=t.isReadable?JSON.stringify({dataType:i,data:o}):function(e){let o=new String;const t=new Array,i=new Array,n=e.length;for(let o=0;o<n;o++){const n=Math.round(111*Math.random())+77;t[o]=e.charCodeAt(o)+n,i[o]=n}for(let e=0;e<n;e++)o+=String.fromCharCode(t[e],i[e]);return o}(JSON.stringify({dataType:i,data:o})),{dataKey:e,dataValue:n}}function a(e,o,t){try{return(o=t.isReadable?JSON.parse(o):JSON.parse(function(e){let o=new String;const t=new Array,i=new Array,n=e.length;for(let o=0;o<n;o++)t[o]=e.charCodeAt(o),i[o]=e.charCodeAt(o+1);for(let e=0;e<n;e+=2)o+=String.fromCharCode(t[e]-i[e]);return o}(o)))&&o.dataType?(t.debug&&function(){console.log("%c wsa: success ","color: #fff;background-color: #67c23a;",...arguments)}("Get",{key:e,value:o.data}),o.data):null}catch(o){n(e)}}function r(){try{return window.Storage&&window.localStorage&&window.localStorage instanceof Storage}catch(e){return!1}}function c(){o("No available storage method found.")}var g=new class{constructor(){this._config={debug:!1,isReadable:!0,isUsingCookie:!0,isSupportStorage:r(),isSupportCookie:window.navigator.cookieEnabled,version:"0.0.2"},this._workSetting={}}setConfig(e={}){const o=["isUsingCookie","debug","isReadable"],t={};for(const i of Object.keys(e))o.includes(i)&&(t[i]=e[i]);Object.assign(this._config,t),Object.assign(this._workSetting,t)}setStorageSync(e,o,n=!1){this._config.isSupportStorage?n?function(e,o,t){const n=typeof e;if("string"===n){const{dataKey:i,dataValue:n}=s(e,o,t);localStorage.setItem(i,n)}else i(n)}(e,o,{debug:this._config.debug,isReadable:this._config.isReadable}):function(e,o,t){const n=typeof e;if("string"===n){const{dataKey:i,dataValue:n}=s(e,o,t);sessionStorage.setItem(i,n)}else i(n)}(e,o,{debug:this._config.debug,isReadable:this._config.isReadable}):this._config.isUsingCookie&&this._config.isSupportCookie?function(e,o,n){const a=typeof e;if("string"===a){const{dataKey:i,dataValue:a}=s(e,o,n);t.setItem(i,a,1/0)}else i(a)}(e,o,{debug:this._config.debug,isReadable:this._config.isReadable}):c()}getStorageSync(e,o=!1){if(this._config.isSupportStorage)return o?function(e,o){const t=typeof e;if("string"===t){let t=localStorage.getItem(e);return t&&(t=a(e,t,o)),t}i(t)}(e,{debug:this._config.debug,isReadable:this._config.isReadable}):function(e,o){const t=typeof e;if("string"===t){let t=sessionStorage.getItem(e);return t&&(t=a(e,t,o)),t}i(t)}(e,{debug:this._config.debug,isReadable:this._config.isReadable});if(this._config.isUsingCookie){if(this._config.isSupportCookie)return function(e,o){const n=typeof e;if("string"===n){let i=t.getItem(e);return i&&(i=a(e,i,o)),i}i(n)}(e,{debug:this._config.debug,isReadable:this._config.isReadable});c()}else c()}removeStorageSync(o,n){if(this._config.isSupportStorage)return n?function(o,t){const n=typeof o;if("string"===n)return t.debug&&e("remove",{key:o}),localStorage.removeItem(o);i(n)}(o,{debug:this._config.debug,isReadable:this._config.isReadable}):function(o,t){const n=typeof o;if("string"===n)return t.debug&&e("remove",{key:o}),sessionStorage.removeItem(o);i(n)}(o,{debug:this._config.debug,isReadable:this._config.isReadable});if(this._config.isUsingCookie){if(this._config.isSupportCookie)return function(o,n){const s=typeof o;if("string"===s)return n.debug&&e("remove",{key:o}),t.removeItem(o);i(s)}(o,{debug:this._config.debug,isReadable:this._config.isReadable});c()}else c()}clearStorageSync(t){if(this._config.isSupportStorage)return t?({debug:this._config.debug,isReadable:this._config.isReadable}.debug&&e("Clear","localStorage clear"),void localStorage.clear()):function(o){o.debug&&e("Clear","sessionStorage clear"),sessionStorage.clear()}({debug:this._config.debug,isReadable:this._config.isReadable});if(this._config.isUsingCookie){if(this._config.isSupportCookie)return o("Cookie can not clear");c()}else c()}};export default g;
